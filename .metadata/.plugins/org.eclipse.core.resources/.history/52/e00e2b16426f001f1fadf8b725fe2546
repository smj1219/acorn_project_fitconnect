package com.fitconnect.trainer.service;

import java.sql.Date;
import java.util.List;
import java.util.Map;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Service;

import com.fitconnect.trainer.dto.ExerciseJournalDto;
import com.fitconnect.trainer.dto.ExerciseListDto;
import com.fitconnect.trainer.repository.ExerciseJournalDao;
import com.fitconnect.trainer.repository.ExerciseListDao;

@Service
public class ExerciseServiceImpl implements ExerciseService {

	@Autowired private ExerciseListDao listDao;
	@Autowired private ExerciseJournalDao journalDao;
	

	@Override
	public ExerciseJournalDto selectExerJournalOne(int e_journal_id) {
		return journalDao.getExer(e_journal_id);
	}

	

	@Override
	public boolean deleteExer(int e_journal_id) {
		boolean isSuccess = journalDao.delete(e_journal_id);
		return isSuccess;
	}

	@Override
	public boolean update(ExerciseJournalDto dto) {
		
		boolean isSuccess = journalDao.update(dto);
		System.out.println("serviceImpl"+dto);
		return isSuccess;
		
		
	}

	@Override
	public List<ExerciseListDto> selectExetAll() {
		return listDao.getExerList();
	}

	@Override
	public List<ExerciseListDto> seleteCategory(String exercise_category) {
		return listDao.getcategory(exercise_category);
		
	}

	@Override
	public ExerciseListDto ExerDetail(int exercise_id) {
		
		return listDao.getDetail(exercise_id);
	}


	@Override
	public List<ExerciseJournalDto> SelectJournalAll(ExerciseJournalDto dto) {
		
		return journalDao.getExerJournalList(dto);
	}

	@Override
	public boolean deleteExerAll(int m_journal_id) {
		boolean isSuccess = journalDao.deleteAll(m_journal_id);
		return isSuccess;
	}

	
	
	
	
	
	
	
	public boolean addExercise(List<ExerciseJournalDto> exerJournalList) {
		boolean isSuccess=false;
		for(ExerciseJournalDto dto:exerJournalList) {
			//토큰에 저장된 user_id를 이용해서 dto에 member_num 넣기
			
			isSuccess = journalDao.insert(dto);
			
		}
		
		return isSuccess;
	}
}
